(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{108:function(t,n,e){"use strict";e.r(n);var r=e(2),i=e(34),o=e.n(i);function a(){var t=k([""]);return a=function(){return t},t}function s(){var t=k([""]);return s=function(){return t},t}function u(){var t=k(['\n                  <button type="button" @click="','" class="load-pubs more">Show '," more</button>\n                "]);return u=function(){return t},t}function c(){var t=k([""]);return c=function(){return t},t}function l(){var t=k(['\n                  <button type="button" @click="','" class="load-pubs less">Show '," less</button>\n                  "]);return l=function(){return t},t}function f(){var t=k(['\n            <div class="box-pub-buttons">\n              <div class="padding"></div>\n              <div class="buttons">\n                ',"\n                ","\n              </div>\n            </div>\n          "]);return f=function(){return t},t}function d(){var t=k(['\n                <rp-citation .data="','"></rp-citation>\n              ']);return d=function(){return t},t}function h(){var t=k(['\n            <div class="box-pubsyear">\n              <div class="year">','</div>\n              <div class="pubs">',"</div>\n            </div>\n          "]);return h=function(){return t},t}function p(){var t=k(["\n          <h3>"," (",")</h3>\n          ","\n          ","\n        "]);return p=function(){return t},t}function v(){var t=k([""]);return v=function(){return t},t}function b(){var t=k(['\n          <div class="pub-icons">\n            <rp-icon icon="iron-editor:mode-edit" circle-bg is-link size="lg" @click="','"></rp-icon>\n            <rp-download-list title="Download Publications List" .choices="','"></rp-download-list>\n          </div>\n          <rp-modal content-title=\'Edit "Publications"\' id="modal-pub-edit">\n    Publication information is managed via the <a href="https://oapolicy.universityofcalifornia.edu/">UC Publication Management System</a>. Any changes made there will be reflected on your Aggie Experts profile.\n          </rp-modal>\n          ']);return b=function(){return t},t}function y(){var t=k([""]);return y=function(){return t},t}function g(){var t=k(['<img class="logo" alt="site logo" src="','">']);return g=function(){return t},t}function m(){var t=k(['\n        <div class="site">\n          <a href="','">',"","</a>\n        </div>"]);return m=function(){return t},t}function w(){var t=k(['<div><a href="','">',"</a></div>"]);return w=function(){return t},t}function x(){var t=k(["<div>","</div>"]);return x=function(){return t},t}function O(){var t=k(["\n\n<style>\n  :host {\n    display: block;\n  }\n  .herotop {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-end;\n    flex-grow: 1;\n  }\n  .heromain {\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n  #about .cols {\n    display: flex;\n  }\n  #about .cols > div {\n    width: 50%;\n  }\n  .pub-count {\n    background-color: var(--tcolor-primary);\n    color: var(--tcolor-light);\n    min-height: 60px;\n    min-width: 60px;\n    border-radius: 50%;\n    font-weight: var(--font-weight-bold);\n    font-size: var(--font-size-h2);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  rp-badge {\n    margin-left: 8px;\n  }\n  rp-badge:first-child {\n    margin-left: 0;\n  }\n  .load-pubs {\n    height: 42px;\n    font-size: var(--font-size);\n    color: var(--tcolor-text);\n    font-weight: var(--font-weight);\n    border: 2px solid var(--tcolor-primary10);\n    padding: 0 15px;\n    cursor: pointer;\n    transition: .3s;\n    color: var(--tcolor-primary);\n  }\n  .load-pubs.more {\n    background-color: var(--tcolor-primary10);\n  }\n  .load-pubs.less {\n    background-color: var(--tcolor-light);\n    margin-right: 8px;\n  }\n  .load-pubs:hover {\n    background-color: var(--tcolor-hover-bg);\n    border: 2px solid var(--tcolor-hover-bg);\n    color: var(--tcolor-light);\n  }\n  .site .logo {\n    vertical-align: middle;\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n  .pub-icons {\n    display: flex;\n    align-items: center;\n  }\n  .pub-icons > * {\n    margin-right: 10px;\n  }\n  .box-title {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n  }\n  .own-profile .box-title {\n    flex-flow: column nowrap;\n  }\n  .box-title-icons {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .own-profile .box-title-icons {\n    order: -1;\n  }\n  #publications h3 {\n    font-weight: var(--font-weight);\n    font-style: italic;\n\n  }\n  .box-pubsyear {\n    display: flex;\n  }\n  .box-pubsyear .year {\n    font-weight: var(--font-weight-bold);\n    width: 60px;\n    min-width: 60px;\n  }\n  .box-pubsyear .pubs {\n    flex-grow: 1;\n  }\n  .box-pubsyear .pubs rp-citation {\n    margin-bottom: 8px;\n  }\n  .box-pub-buttons {\n    display: flex;\n  }\n  .box-pub-buttons .padding {\n    width: 60px;\n    min-width: 60px;\n  }\n  .box-pub-buttons .buttons {\n    display: flex;\n    flex-grow: 1;\n  }\n  @media (min-width: 800px){\n    .own-profile .box-title {\n      flex-flow: row nowrap;\n      justify-content: space-between;\n  }\n    .own-profile .box-title-icons { \n      justify-content: unset;\n    }\n    .own-profile .box-title-icons {\n      order: 2;\n    }\n\n  }\n  ",'\n</style>\n\n\n<div class="individual container top ','">\n  <div ?hidden="','" class="flex align-items-center justify-content-center">\n    <div class="loading1">loading</div>\n  </div>\n  <div ?hidden="','" class="flex align-items-center justify-content-center">\n    <rp-alert>Error loading individual.</rp-alert>\n  </div>\n  <div class="data" ?hidden="','">\n  <rp-hero-image id="hero">\n    <div slot="top" class="herotop">\n      <rp-icon icon="iron-link" circle-bg is-link style="margin-right:5px;"></rp-icon>\n      <rp-icon icon="rp-qr" circle-bg is-link></rp-icon>\n    </div>\n    <div slot="main" class="heromain">\n      <rp-avatar size="lg"></rp-avatar>\n      <h2 class="name text-secondary h1 bold mb-0 text-center">','</h2>\n      <p class="text-light h3 mb-2 mt-1 text-center">','</p>\n\n      <div></div>\n    </div>\n  </rp-hero-image>\n  <rp-link-list class="bg-light p-3"\n                direction="horizontal"\n                .links="','"\n                current-link="','">\n  </rp-link-list>\n\n  <section id="about" class="bg-light mt-3" ?hidden="','">\n    <h1 class="weight-regular mt-0">About</h1>\n    <h2 hidden>Overview</h2>\n    <p hidden>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore\n    et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip\n    ex ea commodo consequat. </p>\n    <div class="cols">\n      <div>\n        <div>\n          <h3 class="mb-2">Positions</h3>\n          ','\n        </div>\n        <div><h3 class="mb-2">Contact</h3>','</div>\n      </div>\n      <div>\n        <h3 class="mb-2">Websites</h3>\n        ','\n      </div>\n    </div>\n  </section>\n\n  <section id="publications" class="bg-light mt-3" ?hidden="','">\n    <div class="box-title">\n      <h1 class="weight-regular mt-0">Publications</h1>\n      <div class="box-title-icons">\n        ','\n          <div class="pub-count">','</div>\n      </div>\n    </div>\n    <h2 class="mb-0">Selected Publications</h2>\n      <div class="data">\n        ',"\n      </div>\n      \n  </section>\n  </div>\n</div>\n\n"]);return O=function(){return t},t}function k(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function S(){var t=this;return Object(r.b)(O(),o.a,this.isOwnProfile?"own-profile":"","error"==this.individualStatus||"loaded"==this.individualStatus,"loading"==this.individualStatus||"loaded"==this.individualStatus,"loading"==this.individualStatus||"error"==this.individualStatus,this.individual.label,this.getIndividualTitles().join(", "),this.getPageSections(),this.activeSection.index,this._hidePageSection("about"),this.getIndividualTitles().map((function(t){return Object(r.b)(x(),t)})),this.getEmailAddresses().map((function(t){return Object(r.b)(w(),"mailto:"+t,t)})),this.getWebsites().map((function(t){return Object(r.b)(m(),t.href,t.icon?Object(r.b)(g(),t.icon):Object(r.b)(y()),t.text)})),this._hidePageSection("publications"),this.isOwnProfile?Object(r.b)(b(),(function(n){return t.shadowRoot.getElementById("modal-pub-edit").toggle()}),this.getPubExports()):Object(r.b)(v()),this.totalPublications,Object.values(this.publicationOverview).map((function(n){return Object(r.b)(p(),n.label,n.ct,t.getPubsByYear(n.id).map((function(t){return Object(r.b)(h(),t.year,t.pubs.map((function(t){return Object(r.b)(d(),t)})))})),n.displayedOffset>10||n.displayedOffset+10<=10*Math.ceil(n.ct/10)?Object(r.b)(f(),n.displayedOffset>10?Object(r.b)(l(),(function(e){return t._loadPubs(n.id,!1)}),n.displayedOffset>n.ct?n.ct-(n.displayedOffset-10):10):Object(r.b)(c()),n.displayedOffset+10<=10*Math.ceil(n.ct/10)?Object(r.b)(u(),(function(e){return t._loadPubs(n.id,!0)}),n.ct-n.displayedOffset<10?n.ct-n.displayedOffset:10):Object(r.b)(s())):Object(r.b)(a()))})))}function j(){var t=function(t,n){n||(n=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}(["\n\n<style>\n  :host {\n    display: block;\n  }\n</style>  \n\n"]);return j=function(){return t},t}function P(){return Object(r.b)(j())}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return I(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return I(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw o}}}}function I(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function R(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,n,e){return n&&R(t.prototype,n),e&&R(t,e),t}function z(t,n){return(z=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function M(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=U(t);if(n){var i=U(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return E(this,e)}}function E(t,n){return!n||"object"!==A(n)&&"function"!=typeof n?T(t):n}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&z(t,n)}(e,t);var n=M(e);function e(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),(t=n.call(this)).render=P.bind(T(t)),t.visible=!1,t.assetType="",t.assetId="",t.disabledSections=[],t.activeSection={},t}return C(e,null,[{key:"properties",get:function(){return{visible:{type:Boolean},assetType:{type:String},assetId:{type:String},disabledSections:{type:Array},activeSection:{type:Object}}}}]),C(e,[{key:"getPageSections",value:function(){var t="/".concat(this.assetType,"/").concat(this.assetId),n=[{id:"all",text:"All Info",href:t}];"work"==this.assetType&&n.push({id:"records",text:"Records"},{id:"overview",text:"Overview"},{id:"authors",text:"Authors"}),"individual"==this.assetType&&n.push({id:"about",text:"About"},{id:"publications",text:"Publications"});for(var e=0,r=0,i=n;r<i.length;r++){var o=i[r];o.href||(o.href="".concat(t,"/").concat(o.id)),o.disabled=this.disabledSections.includes(o.id),o.index=e,e++}return n}},{key:"_hidePageSection",value:function(t){return 0!=this.activeSection.index&&t!=this.activeSection.id}},{key:"_setActiveSection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=this.getPageSections();if(this.activeSection=e[0],t.length>=n+1){var r,i=_(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.id==t[n]){this.activeSection=o;break}}}catch(t){i.e(t)}finally{i.f()}}}}]),e}(Mixin(r.a).with(LitCorkUtils));customElements.define("rp-utils-landing",W);e(90),e(95),e(92),e(104),e(105),e(100),e(58),e(94),e(106);function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function D(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?F(Object(e),!0).forEach((function(n){N(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):F(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function N(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function q(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return Q(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Q(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw o}}}}function Q(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function B(t,n,e,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?n(u):Promise.resolve(u).then(r,i)}function G(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){B(o,r,i,a,s,"next",t)}function s(t){B(o,r,i,a,s,"throw",t)}a(void 0)}))}}function V(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,n,e){return n&&V(t.prototype,n),e&&V(t,e),t}function $(t,n){return($=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function J(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=K(t);if(n){var i=K(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Z(this,e)}}function Z(t,n){return!n||"object"!==L(n)&&"function"!=typeof n?H(t):n}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&$(t,n)}(u,t);var n,e,r,i,o,a,s=J(u);function u(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this)).render=S.bind(H(t)),t._injectModel("PersonModel","AppStateModel"),t.assetType="individual",t._resetEleProps(),t.AppStateModel.get().then((function(n){return t._onAppStateUpdate(n)})),t}return Y(u,null,[{key:"properties",get:function(){return{individual:{type:Object},individualStatus:{type:String},publicationOverviewStatus:{type:String},publicationOverview:{type:Object},hasMultiplePubTypes:{type:Boolean},retrievedPublications:{type:Object},totalPublications:{type:Number},isOwnProfile:{type:Boolean}}}}]),Y(u,[{key:"_onAppStateUpdate",value:(a=G(regeneratorRuntime.mark((function t(n){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:requestAnimationFrame((function(){return e.doUpdate(n)}));case 1:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"doUpdate",value:(o=G(regeneratorRuntime.mark((function t(n){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!0,t.next=3,this.updateComplete;case 3:if(this.visible){t.next=5;break}return t.abrupt("return");case 5:if((r=n.location.path).length>=2&&(this.assetId==r[1]&&(e=!1),this.assetId=r[1],this.PersonModel.individualId=this.assetId),this.getPageSections(),this.assetId){t.next=10;break}return t.abrupt("return");case 10:if(this._setActiveSection(r),e){t.next=13;break}return t.abrupt("return");case 13:return this._resetEleProps(),t.next=16,Promise.all([this._doMainQuery(this.assetId),this._doPubOverviewQuery(this.assetId)]);case 16:this.isOwnProfile=this._isOwnProfile();case 17:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"updated",value:function(t){t.has("assetId")&&this.assetId&&this.shadowRoot.getElementById("hero").shuffle()}},{key:"_resetEleProps",value:function(){this.individual={},this.individualStatus="loading",this.retrievedPublications={},this.totalPublications=0,this.isOwnProfile=!1,this.publicationOverview={},this.hasMultiplePubTypes=!1,this.publicationOverviewStatus="loading"}},{key:"_loadPubs",value:(i=G(regeneratorRuntime.mark((function t(n){var e,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(i.length>1&&void 0!==i[1])||i[1],(r=this.publicationOverview[n].displayedOffset)<10?r=10:e||(r-=10),this.publicationOverview[n].displayedOffset=e?r+10:r,t.next=6,this._doPubQuery(this.publicationOverview[n],r=r);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"_doMainQuery",value:(r=G(regeneratorRuntime.mark((function t(n){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.PersonModel.getIndividual(n);case 2:if(e=t.sent,this.individualStatus=e.state,"loaded"==e.state){t.next=6;break}return t.abrupt("return");case 6:this.individual=e.payload,APP_CONFIG.verbose&&console.log(e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"_doPubOverviewQuery",value:(e=G(regeneratorRuntime.mark((function t(n){var e,r,i,o,a,s,u,c,l=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.PersonModel.getPubOverview(n);case 2:if("loaded"==(e=t.sent).state){t.next=5;break}return t.abrupt("return");case 5:APP_CONFIG.verbose&&console.log("pub overview:",e),r=0,i={},o=q(this.PersonModel.getPublicationTypes());try{for(o.s();!(a=o.n()).done;)s=a.value,(u=e.payload.aggregations.facets["@type"][s.es])&&(r+=u,i[s.id]=D(D({},s),{},{ct:u,displayedOffset:0,dataStatus:"loading"}))}catch(t){o.e(t)}finally{o.f()}for(c in this.hasMultiplePubTypes=Object.keys(i).length>1,i)i[c].displayedOffset=this.hasMultiplePubTypes?5:10;this.totalPublications=r,this.publicationOverview=i,Object.values(i).map((function(t){return l._doPubQuery(t)}));case 15:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_doPubQuery",value:(n=G(regeneratorRuntime.mark((function t(n){var e,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>1&&void 0!==i[1]?i[1]:0,t.next=3,this.PersonModel.getPublications(this.assetId,n,e);case 3:if(r=t.sent,this.publicationOverview[n.id].dataStatus=r.request.state,"loaded"==r.request.state){t.next=7;break}return t.abrupt("return");case 7:APP_CONFIG.verbose&&console.log("".concat(n.id," pubs:"),r),this.retrievedPublications[n.id]=r.masterStore,this.requestUpdate();case 10:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"_isOwnProfile",value:function(){try{if(APP_CONFIG.user.username.toLowerCase().split("@")[0]===this.assetId.toLowerCase())return!0}catch(t){}return!1}},{key:"getPubsByYear",value:function(t){var n=[];if(!this.publicationOverview[t]||!this.retrievedPublications[t])return n;var e=this.hasMultiplePubTypes?5:10,r=this.publicationOverview[t].displayedOffset;r<e&&(r=e);var i,o={},a=[],s=q(this.retrievedPublications[t].slice(0,r));try{for(s.s();!(i=s.n()).done;){var u=i.value;if(u.publicationDate){var c=new Date(u.publicationDate).getFullYear();a.includes(c)||(a.push(c),o[c]=[]),o[c].push(u)}}}catch(t){s.e(t)}finally{s.f()}a.sort((function(t,n){return n-t}));for(var l=0,f=a;l<f.length;l++){var d=f[l];n.push({year:d,pubs:o[d]})}return n}},{key:"getIndividualTitles",value:function(){return this.individual&&this.individual.hasContactInfo&&this.individual.hasContactInfo.title?Array.isArray(this.individual.hasContactInfo.title)?this.individual.hasContactInfo.title:[this.individual.hasContactInfo.title]:[]}},{key:"getEmailAddresses",value:function(){return this.individual&&this.individual.hasContactInfo&&this.individual.hasContactInfo.hasEmail?Array.isArray(this.individual.hasContactInfo.hasEmail)?this.individual.hasContactInfo.hasEmail.map((function(t){return t.email})):[this.individual.hasContactInfo.hasEmail.email]:[]}},{key:"getWebsites",value:function(){var t=[];return this.individual?(this.individual.orcidId&&t.push({text:this.individual.orcidId["@id"],href:this.individual.orcidId["@id"],icon:"/images/orcid_16x16.png"}),this.individual.scopusId&&t.push({text:"Scopus",href:"https://www.scopus.com/authid/detail.uri?authorId=".concat(this.individual.scopusId)}),t):t}},{key:"getPubExports",value:function(){return[{text:"RIS",subtext:"(imports to MIV, Zotero, Mendeley)",href:"/api/miv/".concat(this.assetId)}]}},{key:"formatSubjectsObject",value:function(t){var n=[];for(var e in t){var r={subject:e,count:t[e],label:e},i=e.split(" ");i[0].startsWith("0")&&!isNaN(i[0])&&(r.label=i.slice(1).join(" ")),n.push(r)}return n.sort((function(t,n){return n.count-t.count})),n}}]),u}(W);function tt(){var t=kt([""]);return tt=function(){return t},t}function nt(){var t=kt(['\n            <div><span class="name">',", ","</span></div>\n        "]);return nt=function(){return t},t}function et(){var t=kt(['\n          <h1 class="weight-regular">Other Authors</h1>\n          ',"\n        "]);return et=function(){return t},t}function rt(){var t=kt(['\n            <rp-person-preview\n              name="','"\n              href="','"\n              title="','"\n              text-width="','"\n              class="my-3">\n            </rp-person-preview>\n          ']);return rt=function(){return t},t}function it(){var t=kt([""]);return it=function(){return t},t}function ot(){var t=kt(['\n            <rp-badge size="lg">',"</rp-badge>\n          "]);return ot=function(){return t},t}function at(){var t=kt(["\n          <h2>Subjects</h2>\n          <div>\n          ","\n          </div>\n        "]);return at=function(){return t},t}function st(){var t=kt([""]);return st=function(){return t},t}function ut(){var t=kt([""]);return ut=function(){return t},t}function ct(){var t=kt(['<span class="list-dot mx-2"></span>']);return ct=function(){return t},t}function lt(){var t=kt(['\n            <span class="','">',"</span>","\n          "]);return lt=function(){return t},t}function ft(){var t=kt(['\n          <h2>Published</h2>\n          <div class="flex align-items-center">',"</div>\n        "]);return ft=function(){return t},t}function dt(){var t=kt([""]);return dt=function(){return t},t}function ht(){var t=kt(["\n          <h2>Abstract</h2>\n          <div>","</div>\n        "]);return ht=function(){return t},t}function pt(){var t=kt([""]);return pt=function(){return t},t}function vt(){var t=kt(['\n          <h2>Citation Data & Metrics</h2>\n          <ul class="pub-links">\n            <li><iron-icon icon="hardware:keyboard-arrow-down"></iron-icon><a href="https://oapolicy.universityofcalifornia.edu/">UC Publication Management System</a></li>\n          </ul>\n        ']);return vt=function(){return t},t}function bt(){var t=kt(["<div>No known fulltext links exist.</div>"]);return bt=function(){return t},t}function yt(){var t=kt(['\n            <li><iron-icon icon="hardware:keyboard-arrow-down"></iron-icon><a href="','">',"</a></li>\n            "]);return yt=function(){return t},t}function gt(){var t=kt(['\n          <ul class="pub-links">\n            ',"\n          </ul>\n        "]);return gt=function(){return t},t}function mt(){var t=kt([""]);return mt=function(){return t},t}function wt(){var t=kt(["<span>, </span>"]);return wt=function(){return t},t}function xt(){var t=kt(["\n        <span>"," ","</span>","\n      "]);return xt=function(){return t},t}function Ot(){var t=kt(["\n\n<style>\n  :host {\n    display: block;\n  }\n  .hero {\n    background-color: var(--tcolor-primary);\n    padding: 30px 60px;\n  }\n  .hero .title {\n\n  }\n  .hero .authors {\n    color: var(--tcolor-primary20);\n    margin: 0 15%;\n}\n.hero .type {\n  color: var(--tcolor-primary10);\n  text-transform: uppercase;\n  font-size: var(--font-size-small);\n}\n  .icon-container {\n      background-color: var(--tcolor-bg-primary);\n      height: 150px;\n      width: 150px;\n      min-height: 150px;\n      min-width: 150px;\n      border-radius: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  iron-icon {\n    color: var(--tcolor-primary);\n    height: 50%;\n    width: 50%;\n  }\n  .authors a {\n    color: var(--tcolor-light) !important;\n  }\n  .authors a[disabled] {\n      pointer-events: none;\n      text-decoration: none;\n    }\n  .authors a[disabled]:hover {\n    color : var(--tcolor-link-text);\n  }\n  .pub-links {\n    list-style: none;\n    padding-left: 0;\n  }\n  .pub-links li {\n    display: flex;\n    align-items: center;\n  }\n  .pub-links iron-icon {\n    transform: rotate(-90deg);\n    width: 25px;\n    height: 25px;\n    min-width: 25px;\n    min-height: 25px;\n    color: var(--tcolor-secondary);\n    font-weight: var(--font-weight-bold);\n  }\n  #overview .venue {\n    text-transform: capitalize;\n  }\n  #authors .name {\n    font-weight: var(--font-weight-bold);\n  }\n\n  ",'\n</style>  \n<div class="work container top">\n  <div ?hidden="','" class="flex align-items-center justify-content-center">\n      <div class="loading1">loading</div>\n  </div>\n  <div ?hidden="','" class="flex align-items-center justify-content-center">\n    <rp-alert>Error loading work.</rp-alert>\n  </div>\n  <div class="data" ?hidden="','">\n    <div class="hero">\n      <div class="title mb-0"> <h2 class="text-secondary h1 bold mb-0 text-center">','</h2></div>\n      <div class="authors"><p class="mb-2 mt-1 text-center">','</p></div>\n      <div class="type text-center">','</div>\n    </div>\n    <rp-link-list class="bg-light p-3"\n                direction="horizontal"\n                .links="','"\n                current-link="','">\n    </rp-link-list>\n    <div class="sections">\n\n      <section id="records" class="bg-light mt-3" ?hidden="','">\n        <h1 class="weight-regular mt-0">Publication Records</h1>\n        <h2>Full Text</h2>\n        ',"\n        ",'\n     </section>\n\n     <section id="overview" class="bg-light mt-3" ?hidden="','">\n        <h1 class="weight-regular mt-0">Overview</h1>\n        ',"\n        ","\n\n        ",'\n\n     </section>\n\n     <section id="authors" class="bg-light mt-3" ?hidden="','">\n        <h1 class="weight-regular mt-0">',' Authors</h1>\n        <div ?hidden="','" class="flex align-items-center justify-content-center">\n          <div class="loading1">loading</div>\n        </div>\n        <div ?hidden="','" class="flex align-items-center justify-content-center">\n          <rp-alert>Error loading authors.</rp-alert>\n        </div>\n        <div class="data" ?hidden="','">\n          ',"\n        </div>\n        ","\n     </section>\n\n    </div>\n\n  </div>\n\n\n</div>\n\n"]);return Ot=function(){return t},t}function kt(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function St(){var t=this;return Object(r.b)(Ot(),o.a,this._hideStatusSection("loading"),this._hideStatusSection("error"),this._hideStatusSection("loaded"),this.work.label,this.authors.map((function(n,e){return Object(r.b)(xt(),n.nameFirst,n.nameLast,e+1<t.authors.length?Object(r.b)(wt()):Object(r.b)(mt()))})),this.workType,this.getPageSections(),this.activeSection.index,this._hidePageSection("records"),this.fullTextLinks?Object(r.b)(gt(),this.fullTextLinks.map((function(t){return Object(r.b)(yt(),t.url,t.label)}))):Object(r.b)(bt()),this.isOwnWork?Object(r.b)(vt()):Object(r.b)(pt()),this._hidePageSection("overview"),this.work.abstract?Object(r.b)(ht(),this.work.abstract):Object(r.b)(dt()),this.publishedArray.length>0?Object(r.b)(ft(),this.publishedArray.map((function(n,e){return Object(r.b)(lt(),n.class,n.text,e+1<t.publishedArray.length?Object(r.b)(ct()):Object(r.b)(ut()))}))):Object(r.b)(st()),this.subjects.length>0?Object(r.b)(at(),this.subjects.map((function(t){return Object(r.b)(ot(),t.label)}))):Object(r.b)(it()),this._hidePageSection("authors"),APP_CONFIG.theme.universityName,this._hideStatusSection("loading","universityAuthorsStatus"),this._hideStatusSection("error","universityAuthorsStatus"),this._hideStatusSection("loaded","universityAuthorsStatus"),this.universityAuthors.map((function(n){return Object(r.b)(rt(),n.label,n.href,n.title,t.peopleWidth)})),this.hasOtherAuthors?Object(r.b)(et(),this.authors.filter((function(t){return t.isOtherUniversity})).map((function(t){return Object(r.b)(nt(),t.nameLast,t.nameFirst)}))):Object(r.b)(tt()))}customElements.define("rp-page-individual",X);e(91);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return At(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return At(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw o}}}}function At(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function _t(t,n,e,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?n(u):Promise.resolve(u).then(r,i)}function It(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){_t(o,r,i,a,s,"next",t)}function s(t){_t(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Rt(t,n,e){return(Rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=Wt(t)););return t}(t,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(e):i.value}})(t,n,e||t)}function Ct(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,n,e){return n&&Ct(t.prototype,n),e&&Ct(t,e),t}function Mt(t,n){return(Mt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Et(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Wt(t);if(n){var i=Wt(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Tt(this,e)}}function Tt(t,n){return!n||"object"!==jt(n)&&"function"!=typeof n?Ut(t):n}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Mt(t,n)}(a,t);var n,e,r,i,o=Et(a);function a(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this)).render=St.bind(Ut(t)),t._injectModel("AppStateModel","WorkModel"),t.assetType="work",t.work={},t.workStatus="loading",t.authorPath="/individual/",t.grpsWithLinks=["vivo:FacultyMember"],t.authors=[],t.hasOtherAuthors=!1,t.workType="",t.publishedArray=[],t.subjects=[],t.fullTextLinks=[],t.isOwnWork=!1,t.setPeopleWidth(window.innerWidth),t._handleResize=t._handleResize.bind(Ut(t)),t.universityAuthors=[],t.universityAuthorsStatus="loading",t.AppStateModel.get().then((function(n){return t._onAppStateUpdate(n)})),t}return zt(a,null,[{key:"properties",get:function(){return{work:{type:Object},workStatus:{type:String},grpsWithLinks:{type:String},authorPath:{type:String},authors:{type:Array},universityAuthors:{type:Array},universityAuthorsStatus:{type:String},hasOtherAuthors:{tyoe:Boolean},workType:{type:String},publishedArray:{type:Array},subjects:{type:Array},fullTextLinks:{type:Array},isOwnWork:{type:Boolean},peopleWidth:{type:Number}}}}]),zt(a,[{key:"updated",value:function(t){var n=this;t.has("visible")&&this.visible&&requestAnimationFrame((function(){return n._handleResize()}))}},{key:"connectedCallback",value:function(){Rt(Wt(a.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this._handleResize)}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this._handleResize),Rt(Wt(a.prototype),"disconnectedCallback",this).call(this)}},{key:"_onAppStateUpdate",value:(i=It(regeneratorRuntime.mark((function t(n){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:requestAnimationFrame((function(){return e.doUpdate(n)}));case 1:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"doUpdate",value:(r=It(regeneratorRuntime.mark((function t(n){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateComplete;case 2:if(this.visible){t.next=4;break}return t.abrupt("return");case 4:if(1!=(e=n.location.path).length){t.next=8;break}return this.AppStateModel.setLocation("/works"),t.abrupt("return");case 8:if(this.assetId=e[1],this.assetId){t.next=11;break}return t.abrupt("return");case 11:return this._setActiveSection(e),t.next=14,Promise.all([this._doMainQuery(this.assetId)]);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"_doMainQuery",value:(e=It(regeneratorRuntime.mark((function t(n){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WorkModel.getWork(n);case 2:if(e=t.sent,this.workStatus=e.state,"loaded"==e.state){t.next=6;break}return t.abrupt("return");case 6:this.work=e.payload,APP_CONFIG.verbose&&console.log("work payload:",e),this.authors=this._parseAuthors(),this.workType=this._getWorkType(),this.publishedArray=this._getPublishedArray(),this.subjects=this._getSubjects(),this.fullTextLinks=this._getFullTextLinks(),this._doAuthorQuery(n,this.authors);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_doAuthorQuery",value:(n=It(regeneratorRuntime.mark((function t(n,e){var r,i,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.universityAuthors=[],r=e.filter((function(t){return 0==t.isOtherUniversity})).map((function(t){return t.apiEndpoint})),t.next=4,this.WorkModel.getAuthors(n,r);case 4:if(i=t.sent,this.universityAuthorsStatus=i.state,"loaded"==i.state){t.next=8;break}return t.abrupt("return");case 8:APP_CONFIG.verbose&&console.log("university authors:",i),r=Array.isArray(i.payload)?i.payload:[i.payload],o=Pt(r);try{for(o.s();!(a=o.n()).done;)(s=a.value).hasContactInfo&&s.hasContactInfo.title&&(Array.isArray(s.hasContactInfo.title)?s.title=s.hasContactInfo.title.join(", "):s.title=s.hasContactInfo.title),s.href=this.authorPath+s["@id"].replace(this.WorkModel.service.jsonContext+":","")}catch(t){o.e(t)}finally{o.f()}this.universityAuthors=r;case 13:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"setPeopleWidth",value:function(t){var n;n=.8*(t-30)-82-40,this.peopleWidth=Math.floor(n)}},{key:"_handleResize",value:function(){if(this.visible){var t=window.innerWidth;this.setPeopleWidth(t)}}},{key:"_hideStatusSection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"workStatus";return t!=this[n]}},{key:"_getFullTextLinks",value:function(){var t=[];if(!this.work)return t;try{var n=this.work.hasContactInfo.hasURL;Array.isArray(n)||(n=[n]);var e,r=Pt(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.label&&i.url&&t.push(i)}}catch(t){r.e(t)}finally{r.f()}}catch(t){}return t}},{key:"_getWorkType",value:function(){try{var t,n=Pt(this.work["@type"]);try{for(n.s();!(t=n.n()).done;){if("bibo:AcademicArticle"==t.value)return"Academic Article"}}catch(t){n.e(t)}finally{n.f()}}catch(t){}return""}},{key:"_parseAuthors",value:function(){var t=[];if(this.isOwnWork=!1,this.hasOtherAuthors=!1,this.work.Authorship&&"object"===jt(this.work.Authorship)){var n=this.work.Authorship;Array.isArray(n)||(n=[n]);var e,r=Pt(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i.hasName){i.nameFirst=i.hasName.givenName,i.nameLast=i.hasName.familyName,i["vivo:rank"]||(i["vivo:rank"]=1/0),i.href="",i.isOtherUniversity=!0;try{"object"!=jt(i.identifiers)||Array.isArray(i.identifiers)||(i.identifiers=[i.identifiers]);var o,a=Pt(i.identifiers);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(this.grpsWithLinks.includes(s["@type"])){var u=s["@id"].replace(this.WorkModel.service.jsonContext+":","");i.apiEndpoint=s["@id"];try{APP_CONFIG.user.username.toLowerCase().split("@")[0]===u.toLowerCase()&&(this.isOwnWork=!0)}catch(t){}i.href=this.authorPath+u,i.isOtherUniversity=!1}}}catch(t){a.e(t)}finally{a.f()}}catch(t){console.warn("Unable to construct author href.")}i.isOtherUniversity&&(this.hasOtherAuthors=!0),t.push(i)}}}catch(t){r.e(t)}finally{r.f()}t.sort((function(t,n){return t["vivo:rank"]-n["vivo:rank"]}))}return t}},{key:"_getPublishedArray",value:function(){var t=[];if(!this.work)return t;try{var n=this.work.hasPublicationVenue["@id"];n&&"academic article"==this.workType.toLowerCase()&&(n=n.replace(APP_CONFIG.data.jsonldContext+":journal","").replace(/-/g," "),n+=" (journal)"),n&&t.push({text:n,class:"venue"})}catch(t){}try{var e="";t.length>0&&(this.work.volume&&(e+="Volume ".concat(this.work.volume)),this.work.issue&&(e&&(e+=", "),e+="Issue ".concat(this.work.issue)),e&&t.push({text:e,class:"release"}))}catch(t){}try{var r=new Date(this.work.publicationDate);(r=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(r))&&t.push({text:r,class:"pub-date"})}catch(t){}return t}},{key:"_getSubjects",value:function(){var t=[];if(!this.work)return t;try{var n=this.work.hasSubjectArea;Array.isArray(n)||(n=[n]);var e,r=Pt(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.label&&t.push(i)}}catch(t){r.e(t)}finally{r.f()}}catch(t){}return t}}]),a}(W);function Ft(){var t=function(t,n){n||(n=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}(["\n\n<style>\n  :host {\n    display: block;\n  }\n  .herotop {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-end;\n    flex-grow: 1;\n  }\n  .heromain {\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n  .icon-container {\n      background-color: var(--tcolor-bg-primary);\n      height: 150px;\n      width: 150px;\n      min-height: 150px;\n      min-width: 150px;\n      border-radius: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  iron-icon {\n    color: var(--tcolor-primary);\n    height: 50%;\n    width: 50%;\n  }\n  ",'\n</style>\n<div class="organization container top">\n  <div ?hidden="','" class="flex align-items-center justify-content-center">\n      <div class="loading1">loading</div>\n  </div>\n  <div ?hidden="','" class="flex align-items-center justify-content-center">\n    <rp-alert>Error loading organization.</rp-alert>\n  </div>\n  <div class="data" ?hidden="','">\n  <rp-hero-image id="hero">\n      <div slot="top" class="herotop">\n        <rp-icon icon="iron-link" circle-bg is-link style="margin-right:5px;"></rp-icon>\n        <rp-icon icon="rp-qr" circle-bg is-link></rp-icon>\n      </div>\n      <div slot="main" class="heromain">\n        <div class="icon-container"><iron-icon icon="group-work"></iron-icon></div>\n        <h2 class="name text-secondary h1 bold mb-0 text-center">',"</h2>\n        <div></div>\n      </div>\n    </rp-hero-image>\n  </div>\n\n</div>\n\n"]);return Ft=function(){return t},t}function Dt(){return Object(r.b)(Ft(),o.a,this._hideStatusSection("loading"),this._hideStatusSection("error"),this._hideStatusSection("loaded"),this.organization.label)}function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,n,e,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?n(u):Promise.resolve(u).then(r,i)}function Qt(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){qt(o,r,i,a,s,"next",t)}function s(t){qt(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Bt(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t,n,e){return n&&Bt(t.prototype,n),e&&Bt(t,e),t}function Vt(t,n){return(Vt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Yt(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Zt(t);if(n){var i=Zt(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return $t(this,e)}}function $t(t,n){return!n||"object"!==Nt(n)&&"function"!=typeof n?Jt(t):n}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("rp-page-work",Lt);var Ht=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Vt(t,n)}(o,t);var n,e,r,i=Yt(o);function o(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).render=Dt.bind(Jt(t)),t._injectModel("AppStateModel","OrganizationModel"),t.visible=!1,t.organizationId="",t.organization={},t.organizationStatus="loading",t.AppStateModel.get().then((function(n){return t._onAppStateUpdate(n)})),t}return Gt(o,null,[{key:"properties",get:function(){return{visible:{type:Boolean},organizationId:{type:String},organization:{type:Object},organizationStatus:{type:String}}}}]),Gt(o,[{key:"_onAppStateUpdate",value:(r=Qt(regeneratorRuntime.mark((function t(n){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:requestAnimationFrame((function(){return e.doUpdate(n)}));case 1:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"doUpdate",value:(e=Qt(regeneratorRuntime.mark((function t(n){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateComplete;case 2:if(this.visible){t.next=4;break}return t.abrupt("return");case 4:if(1!=(e=n.location.path).length){t.next=8;break}return this.AppStateModel.setLocation("/organizations"),t.abrupt("return");case 8:if(this.organizationId=e[1],this.organizationId){t.next=11;break}return t.abrupt("return");case 11:return this.shadowRoot.getElementById("hero").shuffle(),t.next=14,Promise.all([this._doMainQuery(this.organizationId)]);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_doMainQuery",value:(n=Qt(regeneratorRuntime.mark((function t(n){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.OrganizationModel.getOrganization(n);case 2:if(e=t.sent,this.organizationStatus=e.state,"loaded"==e.state){t.next=6;break}return t.abrupt("return");case 6:this.organization=e.payload,APP_CONFIG.verbose&&console.log("organization payload:",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"_hideStatusSection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"organizationStatus";return t!=this[n]}}]),o}(Mixin(r.a).with(LitCorkUtils));customElements.define("rp-page-organization",Ht)}}]);